# 1/16/4:20 p.m. 甘
进行了一次**大更新**：

### 临时的存储模块：MemoryModule

- 提供了临时的存储功能，初步实现四个接口

```
read(Account) => SandClock[]
write(Account, SandClock) => boolean
checkAccount(Account) => boolean
createAccount(Account) => boolean
```

- 可以`import MemoryModule from '../Module/MemoryModule';`  导入使用

### 新页面：添加沙漏页面

- 如果用户未登录，则不允许操作
- 用户新添加一个沙漏，允许设置参数：
  - 持续时间，必须是正数
  - 备注信息：any

### SandClock 的修改及相应接口

- 把 clockDuration 属性修改为 string 类型变量
- 在 Constant 模块中提供了一个将字符串转换成数字的函数（**带类型检查**）：

```
  // 将字符串转成数字，仅正整数是合法的，非法返回-1
  StringToInt(str: string): number {
    const regx = /^[0-9]+$/;
    if(str === '' || !regx.test(str)){
      return -1;
    }
    return parseInt(str);
  }
```

- 可以直接调用 `Constant.StringToInt()` 使用

### @State logged 维护用户登录状态

在 `Index.ets` 中添加的新的静态变量： `logged: boolean` ，代表当前是否有用户登录。将此变量链接 `@Link` 到了所有的页面文件中

**此后统一使用 logged 变量来维护用户登录状态**

### “注销用户”功能开发

在 `LogPage.etx` 中添加新的按钮，允许用户注销。**请在所有页面中都通过 logged 的值来判断是否有用户登录，然后执行对应的功能**